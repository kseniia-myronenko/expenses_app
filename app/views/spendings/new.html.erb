<h1 class="text-secondary"><%= I18n.t('spending.new.title') %></h1>
<%= link_to I18n.t('general.back'), root_path, class: 'btn btn-secondary mb-4' %>

<div class="col-6">
  <%= form_with(model: @spending, url: user_spendings_path(current_user), method: 'post') do |f| %>
    <div class="form-group mb-2">
      <%= f.number_field :amount, placeholder: 'Enter amount', class: 'form-control', min: 0 %>
    </div>

    <div class="form-group mb-2">
      <%= f.text_area :description, placeholder: 'Enter description', class: 'form-control' %>
    </div>

    <div class="form-group mb-2">
     <% if @categories %>
      <p class="text-secondary">Select category:</p>
      <%= f.select :category_id, options_for_select(@categories), {}, { class: 'form-control' } %>
     <% else %>
      <p class="text-danger">You need to create at least one category first.</p>
    <% end %>
    </div>

    <div class='d-flex'>
      <%= f.submit 'Create spending', class: "btn btn-primary", style: "margin-right: 5px;" %>
      <%= link_to 'Create category', new_category_path, class: 'btn btn-success' %>
    </div>
  <% end %>
</div>
